- name: allowed-queries
  definition:
    queries:
    - name: users
      query: |-
        query MyQuery {
          user(where: {active: {_eq: true}}) {
            email
            email_confirmed
            group {
              id
              is_school
              name
            }
            id
            manager
            name
          }
        }
    - name: signup
      query: |-
        mutation Signup($email: String!, $password: String!) {
          signup(email: $email, password: $password) {
            errorKnownEmail
            errorWeakPassword
            group
            id
            token
          }
        }
    - name: Login
      query: |-
        mutation Login($email: String!, $password: String!) {
          login(email: $email, password: $password) {
            id
            token
            group_id
            error
          }
        }
    - name: Students
      query: |-
        query Student {
          student(order_by: {firstname: asc, lastname: asc}, where: {active: {_eq: true}, group_id: {}}) {
            birthdate
            cycle
            firstname
            group_id
            id
            lastname
            school_entry
          }
        }
